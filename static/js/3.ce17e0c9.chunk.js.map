{"version":3,"sources":["components/Films/Films.js"],"names":["Films","props","list","useFav","fav","useState","loaded","setLoaded","useEffect","timmy","length","setTimeout","clearTimeout","className","map","film","index","activeClassName","to","title","type","parseInt","id"],"mappings":"mOAOe,SAASA,EAAMC,GAAQ,IAC5BC,EAASD,EAATC,KAD2B,EAErBC,cAAPC,EAF4B,sBAGPC,oBAAS,GAHF,mBAG5BC,EAH4B,KAGpBC,EAHoB,KAoBnC,OAfAC,qBAAU,WACR,IAAIC,EASJ,OAPEA,EADEP,EAAKQ,OAAS,EACRC,WAAWJ,EAAW,KAAK,GAK3BI,WAAWJ,EAAW,KAAM,GAE/B,WACLK,aAAaH,MAEd,CAACP,IAGF,mCACE,sBAAKW,UAAU,UAAf,UACE,4CACEP,GAAU,cAAC,IAAD,4BACK,IAAhBJ,EAAKQ,QAAgB,4CACrBR,EAAKY,KAAI,SAACC,EAAMC,GAAP,OACR,4BACE,eAAC,IAAD,CAASC,gBAAgB,aAAaC,GAAE,iBAAYF,EAAQ,GAA5D,UACGD,EAAKI,MAAO,IACC,UAAbf,EAAIgB,MAAoBJ,EAAQ,IAAMK,SAASjB,EAAIkB,KAClD,qCACE,sBAAMT,UAAU,iBAAhB,sBADF,qBAJEE,EAAKI","file":"static/js/3.ce17e0c9.chunk.js","sourcesContent":["import { NavLink } from 'react-router-dom';\nimport './films.css';\n//if we just want the value we can import useFav() custom hook\nimport { useFav } from '../../context/FavContext';\nimport Spinner from '../Spinner/Spinner';\nimport { useState, useEffect } from 'react';\n\nexport default function Films(props) {\n  const { list } = props;\n  const [fav] = useFav();\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    let timmy;\n    if (list.length > 0) {\n      timmy = setTimeout(setLoaded, 300, true);\n    } else {\n      //on initial render\n      //get rid of spinner after a default time\n      //same as axios timeout\n      timmy = setTimeout(setLoaded, 4000, true);\n    }\n    return () => {\n      clearTimeout(timmy);\n    };\n  }, [list]);\n\n  return (\n    <>\n      <div className=\"results\">\n        <h2>Film List</h2>\n        {!loaded && <Spinner>LOADING FILMS</Spinner>}\n        {list.length === 0 && <p>No films...</p>}\n        {list.map((film, index) => (\n          <p key={film.title}>\n            <NavLink activeClassName=\"activeLink\" to={`/films/${index + 1}`}>\n              {film.title}{' '}\n              {fav.type === 'films' && index + 1 === parseInt(fav.id) && (\n                <>\n                  <span className=\"material-icons\">favorite</span> FAVOURITE!\n                </>\n              )}\n            </NavLink>\n          </p>\n        ))}\n      </div>\n    </>\n  );\n}\n"],"sourceRoot":""}