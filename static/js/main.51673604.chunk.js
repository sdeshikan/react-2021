(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));c(51);var n=c(0);function a(e){return Object(n.jsx)("div",{className:"overlay",children:Object(n.jsx)("div",{className:"spinner",children:e.children})})}},19:function(e,t,c){"use strict";c.d(t,"b",(function(){return j})),c.d(t,"a",(function(){return l}));var n=c(31),a=c(4),s=c(1);var r=c(0),i=Object(s.createContext)();function l(e){var t=function(e,t){var c=Object(s.useState)((function(){var c=localStorage.getItem(e);return c?JSON.parse(c):t})),n=Object(a.a)(c,2),r=n[0],i=n[1];return Object(s.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,i]}("MyFav",{type:"",id:0,data:{}}),c=Object(a.a)(t,2),l=c[0],j=c[1];return Object(r.jsx)(i.Provider,Object(n.a)({value:[l,function(e,t,c){j({type:e,id:t,data:c})}]},e))}function j(){var e=Object(s.useContext)(i);if(!e)throw new Error("Not inside the Provider");return e}},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(28),s=c.n(a),r=(c(36),c(4)),i=(c(37),c(38),c(9)),l=(c(39),c(0));function j(e){return Object(l.jsxs)("nav",{className:"mainnav",children:[Object(l.jsx)(i.c,{activeClassName:"activeLink",to:"/films",children:"Films"}),Object(l.jsx)(i.c,{activeClassName:"activeLink",to:"/people",children:"People"}),Object(l.jsx)(i.c,{activeClassName:"activeLink",to:"/planets",children:"Planets"})]})}function o(e){return Object(l.jsxs)("header",{className:"masthead",children:[Object(l.jsx)("h1",{children:Object(l.jsx)(i.b,{to:"/",children:e.company})}),Object(l.jsx)(j,{})]})}c(49);var b=c(2);function u(e){var t=e.keyword,c=e.category,a=Object(n.createRef)(),s=Object(b.g)().push;return Object(n.useEffect)((function(){a.current.value=t}),[t,a]),Object(l.jsxs)("section",{className:"searchBar",children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s("/".concat(c,"?search=").concat(a.current.value))},children:[Object(l.jsx)("input",{type:"text",ref:a,name:"keyword",className:"searchText",placeholder:"keyword"}),Object(l.jsx)("button",{type:"submit",className:"searchBtn",name:"searchBtn",children:"Search"})]}),e.term&&Object(l.jsxs)("p",{children:["You searched for ",e.term]})]})}c(50);function d(e){var t=e.time,c=e.active,n=e.name,a=Array.isArray(n)?n.join(" and "):n;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("h1",{children:["Welcome ",a,", to the Home page"]}),Object(l.jsxs)("p",{children:["The time is ",new Date(t).toLocaleTimeString()]}),Object(l.jsxs)("p",{children:["The component is ",c?"active":"NOT active"]}),e.children]})}function O(){return Object(l.jsx)("section",{children:Object(l.jsx)("p",{children:"Just a section to insert inside Home."})})}d.defaultProps={time:Date.now()};var h=c(10),f=c(13),p=c.n(f);function x(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(""),l=Object(r.a)(i,2),j=l[0],o=l[1];return p.a.defaults.baseURL="https://swapi.dev/api/",Object(n.useEffect)((function(){var t;return console.log("star wars axios",e,j),p.a.get(e,{params:{search:j},timeout:4e3,cancelToken:new p.a.CancelToken((function(e){t=e}))}).then((function(e){s(e.data.results)})).catch((function(e){p.a.isCancel(e)?console.warn("Cancelled API call"):console.error(e.message)})),function(){t()}}),[e,s,j]),[a,o]}function m(e){var t=Object(n.lazy)((function(){return c.e(3).then(c.bind(null,74))})),a=Object(n.lazy)((function(){return c.e(6).then(c.bind(null,75))})),s=Object(n.lazy)((function(){return c.e(4).then(c.bind(null,76))})),i=Object(n.lazy)((function(){return c.e(7).then(c.bind(null,77))})),j=Object(n.lazy)((function(){return c.e(5).then(c.bind(null,78))})),o=Object(n.lazy)((function(){return c.e(8).then(c.bind(null,79))})),u=e.keyword,f=e.category,p=x("people"),m=Object(r.a)(p,2),v=m[0],y=m[1],g=x("planets"),k=Object(r.a)(g,2),w=k[0],N=k[1],S=x("films"),L=Object(r.a)(S,2),C=L[0],P=L[1];return Object(n.useEffect)((function(){switch(f){case"people":y(u);break;case"films":P(u);break;case"planets":N(u)}window.scrollTo(0,0)}),[f,u,y,P,N]),Object(l.jsx)("div",{className:"mainContent",children:Object(l.jsxs)(b.d,{children:[Object(l.jsxs)(b.b,{path:"/films",children:[Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(h.a,{children:"Loading Films"}),children:Object(l.jsx)(t,{list:C})}),Object(l.jsx)(b.b,{path:"/films/:id",children:Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(h.a,{children:"Loading Details"}),children:Object(l.jsx)(a,{list:C})})})]}),Object(l.jsxs)(b.b,{path:"/planets",children:[Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(h.a,{children:"Loading Planets"}),children:Object(l.jsx)(j,{list:w})}),Object(l.jsx)(b.b,{path:"/planets/:id",children:Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(h.a,{children:"Loading Details"}),children:Object(l.jsx)(o,{list:w})})})]}),Object(l.jsxs)(b.b,{path:"/people",children:[Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(h.a,{children:"Loading People"}),children:Object(l.jsx)(s,{list:v})}),Object(l.jsx)(b.b,{path:"/people/:id",children:Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(h.a,{children:"Loading Details"}),children:Object(l.jsx)(i,{list:v})})})]}),Object(l.jsx)(b.b,{path:"/",exact:!0,render:function(){return Object(l.jsxs)(d,{name:["Kylo","Rey","Luke"],active:!1,time:new Date-5e7,children:[Object(l.jsx)(O,{}),Object(l.jsx)(O,{})]})}}),Object(l.jsx)(b.a,{to:"/"})]})})}var v=c(19);function y(e){var t=Object(b.h)(),c=t.pathname,a=t.search,s=c.split("/"),i=Object(r.a)(s,3),j=(i[0],i[1]),d=i[2],O=Object(n.useState)(j),h=Object(r.a)(O,2),f=h[0],p=h[1],x=Object(n.useState)(""),y=Object(r.a)(x,2),g=y[0],k=y[1];return Object(n.useEffect)((function(){if(console.log("going from ".concat(f," to ").concat(j)),f===j)if(a){var e=a.replace("?search=","");console.log("running a search for ".concat(e)),k(e)}else d||k("");else k(""),p(j)}),[j,a,d,f]),Object(l.jsx)(v.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{company:"Company Name"}),j&&Object(l.jsx)(u,{keyword:g,category:j}),Object(l.jsx)("main",{className:"content",children:Object(l.jsx)(m,{keyword:g,category:j})})]})})}s.a.render(Object(l.jsx)(i.a,{children:Object(l.jsx)(y,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.51673604.chunk.js.map